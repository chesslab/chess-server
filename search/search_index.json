{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"PHP Chess Server PHP Chess Server is an asynchronous PHP server that provides functionality to play chess online over a WebSocket connection. Similar to the PHP Chess API , it can be hosted on a custom domain. However, while the API endpoints may take few seconds to execute \u2014 for example, a database query \u2014 the event-driven, non-blocking architecture of the chess server allows to handle multiple concurrent connections in an efficient way. The chess commands are intended to run very quickly almost in real-time. Object-Oriented The socket, the game modes and the chess commands are all implemented using OOP principles. Async PHP Frameworks The flexible architecture of PHP Chess Server allows support for multiple async PHP frameworks, with the default one being Workerman. Workerman Ratchet","title":"Home"},{"location":"#php-chess-server","text":"PHP Chess Server is an asynchronous PHP server that provides functionality to play chess online over a WebSocket connection. Similar to the PHP Chess API , it can be hosted on a custom domain. However, while the API endpoints may take few seconds to execute \u2014 for example, a database query \u2014 the event-driven, non-blocking architecture of the chess server allows to handle multiple concurrent connections in an efficient way. The chess commands are intended to run very quickly almost in real-time.","title":"PHP Chess Server"},{"location":"#object-oriented","text":"The socket, the game modes and the chess commands are all implemented using OOP principles.","title":"Object-Oriented"},{"location":"#async-php-frameworks","text":"The flexible architecture of PHP Chess Server allows support for multiple async PHP frameworks, with the default one being Workerman. Workerman Ratchet","title":"Async PHP Frameworks"},{"location":"accept/","text":"/accept Accepts an invitation to play online with an opponent. hash The unique hash of the game. Usage Example ws.send('/accept 876d7a7b'); { \"/accept\": { \"jwt\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJhc3luYy5jaGVzc2xhYmxhYi5vcmciLCJpYXQiOjE3MTYzOTk3NjYsImV4cCI6MTcxNjQwMzM2NiwidmFyaWFudCI6ImNsYXNzaWNhbCIsInN1Ym1vZGUiOiJmcmllbmQiLCJjb2xvciI6InciLCJtaW4iOiI1IiwiaW5jcmVtZW50IjoiMyIsImZlbiI6InJuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlIgdyBLUWtxIC0ifQ.hqxBC0gZS7aka7_FUGtLJ3uFG_RtjGqhHi7ttvHb73A\", \"hash\": \"876d7a7b\", \"timer\": { \"w\": 300, \"b\": 300 }, \"startedAt\": 1716399810 } }","title":"/accept"},{"location":"accept/#accept","text":"Accepts an invitation to play online with an opponent.","title":"/accept"},{"location":"accept/#hash","text":"The unique hash of the game.","title":"hash"},{"location":"accept/#usage","text":"","title":"Usage"},{"location":"accept/#example","text":"ws.send('/accept 876d7a7b'); { \"/accept\": { \"jwt\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJhc3luYy5jaGVzc2xhYmxhYi5vcmciLCJpYXQiOjE3MTYzOTk3NjYsImV4cCI6MTcxNjQwMzM2NiwidmFyaWFudCI6ImNsYXNzaWNhbCIsInN1Ym1vZGUiOiJmcmllbmQiLCJjb2xvciI6InciLCJtaW4iOiI1IiwiaW5jcmVtZW50IjoiMyIsImZlbiI6InJuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlIgdyBLUWtxIC0ifQ.hqxBC0gZS7aka7_FUGtLJ3uFG_RtjGqhHi7ttvHb73A\", \"hash\": \"876d7a7b\", \"timer\": { \"w\": 300, \"b\": 300 }, \"startedAt\": 1716399810 } }","title":"Example"},{"location":"draw/","text":"/draw Allows to offer a draw. action The action to take as per these options. propose decline accept Usage Propose a draw ws.send('/draw propose'); { \"/draw\": { \"action\": \"propose\" } } Decline a draw ws.send('/draw decline'); { \"/draw\": { \"action\": \"decline\" } } Accept a draw ws.send('/draw accept'); { \"/takeback\": { \"action\": \"accept\" } }","title":"/draw"},{"location":"draw/#draw","text":"Allows to offer a draw.","title":"/draw"},{"location":"draw/#action","text":"The action to take as per these options. propose decline accept","title":"action"},{"location":"draw/#usage","text":"","title":"Usage"},{"location":"draw/#propose-a-draw","text":"ws.send('/draw propose'); { \"/draw\": { \"action\": \"propose\" } }","title":"Propose a draw"},{"location":"draw/#decline-a-draw","text":"ws.send('/draw decline'); { \"/draw\": { \"action\": \"decline\" } }","title":"Decline a draw"},{"location":"draw/#accept-a-draw","text":"ws.send('/draw accept'); { \"/takeback\": { \"action\": \"accept\" } }","title":"Accept a draw"},{"location":"getting-started/","text":"Getting Started Probably the easiest way to get familiar with the chess commands is by reading the WebSocket messages sent back and forth between the web browser and the chess server as you interact with a web app. To do this, you may want to use the website as shown in the example below. Figure 1 . Open Google Chrome developer tools for command examples. Figure 2 . As chess moves are played, the chess server response is displayed on the Network > WS > Messages tab. Also a WebSocket connection with the chess server can be opened in the JavaScript console. const ws = new WebSocket('wss://async.chesslablab.org:8443'); That's it! Now you're set up to start playing chess. ws.send('/start classical analysis'); The /start command starts a new classical chess game and retrieves a JSON response from the server. { \"/start\": { \"variant\": \"classical\", \"mode\": \"analysis\", \"turn\": \"w\", \"movetext\": \"\", \"fen\": [ \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq -\" ] } } On successful server response a FEN string representing the starting position is returned as well as the chess variant and the game mode. This is the classical starting position in FEN format. Let's make the very first move. What about 1.e4? This is the so-called King's Pawn Game, one of the most popular chess openings, in Portable Game Notation (PGN) format. Humans can understand chess games in PGN easily but this format is not that great for computers and for graphic user interfaces (GUI) which often prefer the Long Algebraic Notation (LAN) format instead. Let's play 1.e4 in LAN format. ws.send('/play_lan w e2e4'); The /play_lan command above retrieves the following JSON response. { \"/play_lan\": { \"turn\": \"b\", \"pgn\": \"e4\", \"castlingAbility\": \"KQkq\", \"movetext\": \"1.e4\", \"fen\": \"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3\", \"isCapture\": false, \"isCheck\": false, \"isMate\": false, \"isStalemate\": false, \"isFivefoldRepetition\": false, \"isFiftyMoveDraw\": false, \"isDeadPositionDraw\": false, \"doesDraw\": false, \"doesWin\": false, \"mode\": \"analysis\", \"variant\": \"classical\", \"isValid\": true } } A popular response to 1.e4 is 1...e5 which in LAN format is e7e5. ws.send('/play_lan b e7e5'); Once again the /play_lan command makes a chess move, this time retrieving the following JSON response. { \"/play_lan\": { \"turn\": \"w\", \"pgn\": \"e5\", \"castlingAbility\": \"KQkq\", \"movetext\": \"1.e4 e5\", \"fen\": \"rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq e6\", \"isCapture\": false, \"isCheck\": false, \"isMate\": false, \"isStalemate\": false, \"isFivefoldRepetition\": false, \"isFiftyMoveDraw\": false, \"isDeadPositionDraw\": false, \"doesDraw\": false, \"doesWin\": false, \"mode\": \"analysis\", \"variant\": \"classical\", \"isValid\": true } } Let's recap. Described below is the series of steps required to start a classical chess game with 1.e4 e5. Remember, computers and graphic user interfaces (GUIs) usually prefer the Long Algebraic Notation (LAN) format instead: e2e4 and e7e5. const ws = new WebSocket('wss://async.chesslablab.org:8443'); ws.send('/start classical analysis'); ws.send('/play_lan w e2e4'); ws.send('/play_lan b e7e5'); Now let's have a look at the WebSocket commands available! The list of commands could have been sorted in alphabetical order but it is more convenient to begin with the /start command and continue in a way that's easier to understand.","title":"Getting Started"},{"location":"getting-started/#getting-started","text":"Probably the easiest way to get familiar with the chess commands is by reading the WebSocket messages sent back and forth between the web browser and the chess server as you interact with a web app. To do this, you may want to use the website as shown in the example below. Figure 1 . Open Google Chrome developer tools for command examples. Figure 2 . As chess moves are played, the chess server response is displayed on the Network > WS > Messages tab. Also a WebSocket connection with the chess server can be opened in the JavaScript console. const ws = new WebSocket('wss://async.chesslablab.org:8443'); That's it! Now you're set up to start playing chess. ws.send('/start classical analysis'); The /start command starts a new classical chess game and retrieves a JSON response from the server. { \"/start\": { \"variant\": \"classical\", \"mode\": \"analysis\", \"turn\": \"w\", \"movetext\": \"\", \"fen\": [ \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq -\" ] } } On successful server response a FEN string representing the starting position is returned as well as the chess variant and the game mode. This is the classical starting position in FEN format. Let's make the very first move. What about 1.e4? This is the so-called King's Pawn Game, one of the most popular chess openings, in Portable Game Notation (PGN) format. Humans can understand chess games in PGN easily but this format is not that great for computers and for graphic user interfaces (GUI) which often prefer the Long Algebraic Notation (LAN) format instead. Let's play 1.e4 in LAN format. ws.send('/play_lan w e2e4'); The /play_lan command above retrieves the following JSON response. { \"/play_lan\": { \"turn\": \"b\", \"pgn\": \"e4\", \"castlingAbility\": \"KQkq\", \"movetext\": \"1.e4\", \"fen\": \"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3\", \"isCapture\": false, \"isCheck\": false, \"isMate\": false, \"isStalemate\": false, \"isFivefoldRepetition\": false, \"isFiftyMoveDraw\": false, \"isDeadPositionDraw\": false, \"doesDraw\": false, \"doesWin\": false, \"mode\": \"analysis\", \"variant\": \"classical\", \"isValid\": true } } A popular response to 1.e4 is 1...e5 which in LAN format is e7e5. ws.send('/play_lan b e7e5'); Once again the /play_lan command makes a chess move, this time retrieving the following JSON response. { \"/play_lan\": { \"turn\": \"w\", \"pgn\": \"e5\", \"castlingAbility\": \"KQkq\", \"movetext\": \"1.e4 e5\", \"fen\": \"rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq e6\", \"isCapture\": false, \"isCheck\": false, \"isMate\": false, \"isStalemate\": false, \"isFivefoldRepetition\": false, \"isFiftyMoveDraw\": false, \"isDeadPositionDraw\": false, \"doesDraw\": false, \"doesWin\": false, \"mode\": \"analysis\", \"variant\": \"classical\", \"isValid\": true } } Let's recap. Described below is the series of steps required to start a classical chess game with 1.e4 e5. Remember, computers and graphic user interfaces (GUIs) usually prefer the Long Algebraic Notation (LAN) format instead: e2e4 and e7e5. const ws = new WebSocket('wss://async.chesslablab.org:8443'); ws.send('/start classical analysis'); ws.send('/play_lan w e2e4'); ws.send('/play_lan b e7e5'); Now let's have a look at the WebSocket commands available! The list of commands could have been sorted in alphabetical order but it is more convenient to begin with the /start command and continue in a way that's easier to understand.","title":"Getting Started"},{"location":"installation/","text":"Installation Clone the chesslablab/chess-server repo into your projects folder. Then cd the chess-server directory and create an .env file: cp .env.example .env Create an empty pchess.log file: touch storage/pchess.log Make sure to have installed the fullchain.pem and privkey.pem files in the ssl folder, and run the Docker container in detached mode in the background: docker compose -f docker-compose.workerman.yml up -d Finally, if you are running the chess server in a local development environment along with the website , you may want to add a domain name entry to your /etc/hosts file as per the WEBSOCKET variable defined in the assets/env.example.js file. 127.0.0.1 async.chesslablab.org","title":"Installation"},{"location":"installation/#installation","text":"Clone the chesslablab/chess-server repo into your projects folder. Then cd the chess-server directory and create an .env file: cp .env.example .env Create an empty pchess.log file: touch storage/pchess.log Make sure to have installed the fullchain.pem and privkey.pem files in the ssl folder, and run the Docker container in detached mode in the background: docker compose -f docker-compose.workerman.yml up -d Finally, if you are running the chess server in a local development environment along with the website , you may want to add a domain name entry to your /etc/hosts file as per the WEBSOCKET variable defined in the assets/env.example.js file. 127.0.0.1 async.chesslablab.org","title":"Installation"},{"location":"leave/","text":"/leave Allows to leave a game. action The action to take as per these options. accept Usage Example ws.send('/leave accept'); { \"/leave\": { \"action\": \"accept\" } }","title":"/leave"},{"location":"leave/#leave","text":"Allows to leave a game.","title":"/leave"},{"location":"leave/#action","text":"The action to take as per these options. accept","title":"action"},{"location":"leave/#usage","text":"","title":"Usage"},{"location":"leave/#example","text":"ws.send('/leave accept'); { \"/leave\": { \"action\": \"accept\" } }","title":"Example"},{"location":"legal/","text":"/legal Returns the legal moves of a piece. position The location of the piece on the board. Usage Example Start a classical game to find out the legal moves of the piece on e2. ws.send('/start classical analysis'); ws.send('/legal e2'); { \"/legal\": [ \"e3\", \"e4\" ] }","title":"/legal"},{"location":"legal/#legal","text":"Returns the legal moves of a piece.","title":"/legal"},{"location":"legal/#position","text":"The location of the piece on the board.","title":"position"},{"location":"legal/#usage","text":"","title":"Usage"},{"location":"legal/#example","text":"Start a classical game to find out the legal moves of the piece on e2. ws.send('/start classical analysis'); ws.send('/legal e2'); { \"/legal\": [ \"e3\", \"e4\" ] }","title":"Example"},{"location":"online-games/","text":"/online_games Returns the online games waiting to be accepted. Usage Example ws.send('/online_games'); { \"/online_games\": [ { \"iss\": \"async.chesslablab.org\", \"iat\": 1716395884, \"exp\": 1716399484, \"variant\": \"classical\", \"submode\": \"online\", \"color\": \"b\", \"min\": \"17\", \"increment\": \"8\", \"fen\": \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq -\", \"hash\": \"ec82790d\" }, { \"iss\": \"async.chesslablab.org\", \"iat\": 1716395890, \"exp\": 1716399490, \"variant\": \"960\", \"submode\": \"online\", \"color\": \"w\", \"min\": \"5\", \"increment\": \"3\", \"fen\": \"brnnkbrq/pppppppp/8/8/8/8/PPPPPPPP/BRNNKBRQ w KQkq -\", \"startPos\": \"BRNNKBRQ\", \"hash\": \"c0597f26\" } ] }","title":"/online_games"},{"location":"online-games/#online_games","text":"Returns the online games waiting to be accepted.","title":"/online_games"},{"location":"online-games/#usage","text":"","title":"Usage"},{"location":"online-games/#example","text":"ws.send('/online_games'); { \"/online_games\": [ { \"iss\": \"async.chesslablab.org\", \"iat\": 1716395884, \"exp\": 1716399484, \"variant\": \"classical\", \"submode\": \"online\", \"color\": \"b\", \"min\": \"17\", \"increment\": \"8\", \"fen\": \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq -\", \"hash\": \"ec82790d\" }, { \"iss\": \"async.chesslablab.org\", \"iat\": 1716395890, \"exp\": 1716399490, \"variant\": \"960\", \"submode\": \"online\", \"color\": \"w\", \"min\": \"5\", \"increment\": \"3\", \"fen\": \"brnnkbrq/pppppppp/8/8/8/8/PPPPPPPP/BRNNKBRQ w KQkq -\", \"startPos\": \"BRNNKBRQ\", \"hash\": \"c0597f26\" } ] }","title":"Example"},{"location":"play-lan/","text":"/play_lan Plays a chess move in long algebraic notation. color The color as per these options. w for the white pieces. b for the black pieces. lan The chess move in LAN format. Usage Example Starts a classical game to play 1.e4. ws.send('/start classical analysis'); ws.send('/play_lan w e2e4'); { \"/play_lan\": { \"turn\": \"b\", \"pgn\": \"e4\", \"castlingAbility\": \"KQkq\", \"movetext\": \"1.e4\", \"fen\": \"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3\", \"isCapture\": false, \"isCheck\": false, \"isMate\": false, \"isStalemate\": false, \"isFivefoldRepetition\": false, \"isFiftyMoveDraw\": false, \"isDeadPositionDraw\": false, \"doesDraw\": false, \"doesWin\": false, \"mode\": \"analysis\", \"variant\": \"classical\", \"isValid\": true } }","title":"/play_lan"},{"location":"play-lan/#play_lan","text":"Plays a chess move in long algebraic notation.","title":"/play_lan"},{"location":"play-lan/#color","text":"The color as per these options. w for the white pieces. b for the black pieces.","title":"color"},{"location":"play-lan/#lan","text":"The chess move in LAN format.","title":"lan"},{"location":"play-lan/#usage","text":"","title":"Usage"},{"location":"play-lan/#example","text":"Starts a classical game to play 1.e4. ws.send('/start classical analysis'); ws.send('/play_lan w e2e4'); { \"/play_lan\": { \"turn\": \"b\", \"pgn\": \"e4\", \"castlingAbility\": \"KQkq\", \"movetext\": \"1.e4\", \"fen\": \"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3\", \"isCapture\": false, \"isCheck\": false, \"isMate\": false, \"isStalemate\": false, \"isFivefoldRepetition\": false, \"isFiftyMoveDraw\": false, \"isDeadPositionDraw\": false, \"doesDraw\": false, \"doesWin\": false, \"mode\": \"analysis\", \"variant\": \"classical\", \"isValid\": true } }","title":"Example"},{"location":"randomizer/","text":"/randomizer Starts a random position. turn The color as per these options. w for the white pieces. b for the black pieces. items The piece composition string as per these options. P Pawn Q Queen R Rook BB Bishop pair BN Bishop and Knight QR Queen and Rook Usage Example Get a random position with white to move; King and queen and rook vs. king and rook. ws.send('/randomizer w \"{\\\\\"w\\\\\":\\\\\"QR\\\\\",\\\\\"b\\\\\":\\\\\"R\\\\\"}\"'); { \"/randomizer\": { \"turn\": \"w\", \"fen\": \"8/4K3/1R6/2Q5/5k2/8/8/6r1 w - -\" } }","title":"/randomizer"},{"location":"randomizer/#randomizer","text":"Starts a random position.","title":"/randomizer"},{"location":"randomizer/#turn","text":"The color as per these options. w for the white pieces. b for the black pieces.","title":"turn"},{"location":"randomizer/#items","text":"The piece composition string as per these options. P Pawn Q Queen R Rook BB Bishop pair BN Bishop and Knight QR Queen and Rook","title":"items"},{"location":"randomizer/#usage","text":"","title":"Usage"},{"location":"randomizer/#example","text":"Get a random position with white to move; King and queen and rook vs. king and rook. ws.send('/randomizer w \"{\\\\\"w\\\\\":\\\\\"QR\\\\\",\\\\\"b\\\\\":\\\\\"R\\\\\"}\"'); { \"/randomizer\": { \"turn\": \"w\", \"fen\": \"8/4K3/1R6/2Q5/5k2/8/8/6r1 w - -\" } }","title":"Example"},{"location":"rematch/","text":"/rematch Allows to offer a rematch. action The action to take as per these options. propose decline accept Usage Propose a rematch ws.send('/rematch propose'); { \"/rematch\": { \"action\": \"propose\" } } Decline a rematch ws.send('/rematch decline'); { \"/rematch\": { \"action\": \"decline\" } } Accept a rematch ws.send('/rematch accept'); { \"/rematch\": { \"action\": \"accept\" } }","title":"/rematch"},{"location":"rematch/#rematch","text":"Allows to offer a rematch.","title":"/rematch"},{"location":"rematch/#action","text":"The action to take as per these options. propose decline accept","title":"action"},{"location":"rematch/#usage","text":"","title":"Usage"},{"location":"rematch/#propose-a-rematch","text":"ws.send('/rematch propose'); { \"/rematch\": { \"action\": \"propose\" } }","title":"Propose a rematch"},{"location":"rematch/#decline-a-rematch","text":"ws.send('/rematch decline'); { \"/rematch\": { \"action\": \"decline\" } }","title":"Decline a rematch"},{"location":"rematch/#accept-a-rematch","text":"ws.send('/rematch accept'); { \"/rematch\": { \"action\": \"accept\" } }","title":"Accept a rematch"},{"location":"resign/","text":"/resign Allows to resign a game. action The action to take as per these options. accept Usage Example ws.send('/resign accept'); { \"/resign\": { \"action\": \"accept\" } }","title":"/resign"},{"location":"resign/#resign","text":"Allows to resign a game.","title":"/resign"},{"location":"resign/#action","text":"The action to take as per these options. accept","title":"action"},{"location":"resign/#usage","text":"","title":"Usage"},{"location":"resign/#example","text":"ws.send('/resign accept'); { \"/resign\": { \"action\": \"accept\" } }","title":"Example"},{"location":"restart/","text":"/restart Restarts an existing game. hash The unique hash of the game. Usage Example ws.send('/restart cf897a92'); { \"/restart\": { \"jwt\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJhc3luYy5jaGVzc2xhYmxhYi5vcmciLCJpYXQiOjE3MTYzOTMzOTksImV4cCI6MTcxNjM5Njk5OSwidmFyaWFudCI6ImNsYXNzaWNhbCIsInN1Ym1vZGUiOiJvbmxpbmUiLCJjb2xvciI6InciLCJtaW4iOiI1IiwiaW5jcmVtZW50IjoiMyIsImZlbiI6InJuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlIgdyBLUWtxIC0ifQ.-i3o-ODk7HF_ifuwiXLzpP5Itw12QTB07XeqbEQdULM\", \"hash\": \"72647a10\", \"timer\": { \"w\": 300, \"b\": 300 } } }","title":"/restart"},{"location":"restart/#restart","text":"Restarts an existing game.","title":"/restart"},{"location":"restart/#hash","text":"The unique hash of the game.","title":"hash"},{"location":"restart/#usage","text":"","title":"Usage"},{"location":"restart/#example","text":"ws.send('/restart cf897a92'); { \"/restart\": { \"jwt\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJhc3luYy5jaGVzc2xhYmxhYi5vcmciLCJpYXQiOjE3MTYzOTMzOTksImV4cCI6MTcxNjM5Njk5OSwidmFyaWFudCI6ImNsYXNzaWNhbCIsInN1Ym1vZGUiOiJvbmxpbmUiLCJjb2xvciI6InciLCJtaW4iOiI1IiwiaW5jcmVtZW50IjoiMyIsImZlbiI6InJuYnFrYm5yL3BwcHBwcHBwLzgvOC84LzgvUFBQUFBQUFAvUk5CUUtCTlIgdyBLUWtxIC0ifQ.-i3o-ODk7HF_ifuwiXLzpP5Itw12QTB07XeqbEQdULM\", \"hash\": \"72647a10\", \"timer\": { \"w\": 300, \"b\": 300 } } }","title":"Example"},{"location":"start/","text":"/start Starts a new game. variant The chess variant as per these options. classical chess, also known as standard or slow chess. 960 is the same as classical chess except that the starting position of the pieces is randomized. dunsany is an asymmetric variant in which Black has the standard chess army and White has 32 pawns. losing chess, the objective of each player is to lose all of their pieces or be stalemated. racing-kings consists of being the first player to move their king to the eighth row. mode The game mode as per these options. analysis is used to start games for further analysis. play allows to play chess online with other players. stockfish allows to play chess against the computer. settings (optional) Additional optional parameters may be required depending on the mode selected as shown in the examples below. color fen increment min movetext startPos submode Usage Start a classical game ws.send('/start classical analysis'); { \"/start\": { \"variant\": \"classical\", \"mode\": \"analysis\", \"turn\": \"w\", \"movetext\": \"\", \"fen\": [ \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq -\" ] } } Start a classical game from a FEN position Name Description Required settings fen Yes ws.send('/start classical analysis \"{\\\\\"fen\\\\\":\\\\\"r1bqkbnr/pppppppp/2n5/8/3PP3/8/PPP2PPP/RNBQKBNR b KQkq d3\\\\\"}\"'); { \"/start\": { \"variant\": \"classical\", \"mode\": \"analysis\", \"turn\": \"b\", \"movetext\": \"\", \"fen\": [ \"r1bqkbnr/pppppppp/2n5/8/3PP3/8/PPP2PPP/RNBQKBNR b KQkq -\" ] } } Start a classical game from a SAN movetext Name Description Required settings movetext Yes ws.send('/start classical analysis \"{\\\\\"movetext\\\\\":\\\\\"1.e4 Nc6 2.d4\\\\\"}\"'); { \"/start\": { \"variant\": \"classical\", \"mode\": \"analysis\", \"turn\": \"b\", \"movetext\": \"1.e4 Nc6 2.d4\", \"fen\": [ \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq -\", \"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3\", \"r1bqkbnr/pppppppp/2n5/8/4P3/8/PPPP1PPP/RNBQKBNR w KQkq -\", \"r1bqkbnr/pppppppp/2n5/8/3PP3/8/PPP2PPP/RNBQKBNR b KQkq d3\" ] } } Start a Chess960 game from a SAN movetext Name Description Required settings movetext startPos Yes ws.send('/start 960 analysis \"{\\\\\"movetext\\\\\":\\\\\"1.e4 Nc6 2.d4\\\\\",\\\\\"startPos\\\\\":\\\\\"BNRKQBRN\\\\\"}\"'); { \"/start\": { \"variant\": \"960\", \"mode\": \"analysis\", \"turn\": \"b\", \"movetext\": \"1.e4 Nc6 2.d4\", \"fen\": [ \"rnbkqbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBKQBNR w KQkq -\", \"rnbkqbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBKQBNR b KQkq e3\", \"r1bkqbnr/pppppppp/2n5/8/4P3/8/PPPP1PPP/RNBKQBNR w KQkq -\", \"r1bkqbnr/pppppppp/2n5/8/3PP3/8/PPP2PPP/RNBKQBNR b KQkq d3\" ], \"startPos\": \"RNBKQBNR\" } } Start a classical game in Stockfish mode Name Description Required settings color Yes ws.send('/start classical stockfish {\"color\":\"b\"}'); { \"/start\": { \"variant\": \"classical\", \"mode\": \"stockfish\", \"color\": \"b\", \"fen\": \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq -\" } } Start a classical game to play online ws.send('/start classical play {\"min\":5,\"increment\":3,\"color\":\"b\",\"submode\":\"online\"}'); { \"/start\": { \"variant\": \"classical\", \"mode\": \"play\", \"fen\": \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq -\", \"jwt\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJhc3luYy5jaGVzc2xhYmxhYi5vcmciLCJpYXQiOjE3MjE0MDIyNzksImV4cCI6MTcyMTQwNTg3OSwidmFyaWFudCI6ImNsYXNzaWNhbCIsInN1Ym1vZGUiOiJvbmxpbmUiLCJjb2xvciI6ImIiLCJtaW4iOjUsImluY3JlbWVudCI6MywiZmVuIjoicm5icWtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUiB3IEtRa3EgLSJ9.ftJf7UkcL7EwrjsKQh29VgLHKVtKXggl5TZIruRdKoA\", \"hash\": \"70a777dd\" } } Create an invite code to play a classical game Name Description Required settings min increment color submode Yes ws.send('/start classical play \"{\\\\\"min\\\\\":5,\\\\\"increment\\\\\":3,\\\\\"color\\\\\":\\\\\"w\\\\\",\\\\\"submode\\\\\":\\\\\"friend\\\\\"}\"'); { \"/start\": { \"variant\": \"classical\", \"mode\": \"play\", \"fen\": \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq -\", \"jwt\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJhc3luYy5jaGVzc2xhYmxhYi5vcmciLCJpYXQiOjE3MjE0MDI1MDYsImV4cCI6MTcyMTQwNjEwNiwidmFyaWFudCI6ImNsYXNzaWNhbCIsInN1Ym1vZGUiOiJmcmllbmQiLCJjb2xvciI6InciLCJtaW4iOjUsImluY3JlbWVudCI6MywiZmVuIjoicm5icWtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUiB3IEtRa3EgLSJ9.myjbwTAy_z8CxnPwIQiJqzqYpGmj8bg52R89HB53NrQ\", \"hash\": \"3b9777a6\" } }","title":"/start"},{"location":"start/#start","text":"Starts a new game.","title":"/start"},{"location":"start/#variant","text":"The chess variant as per these options. classical chess, also known as standard or slow chess. 960 is the same as classical chess except that the starting position of the pieces is randomized. dunsany is an asymmetric variant in which Black has the standard chess army and White has 32 pawns. losing chess, the objective of each player is to lose all of their pieces or be stalemated. racing-kings consists of being the first player to move their king to the eighth row.","title":"variant"},{"location":"start/#mode","text":"The game mode as per these options. analysis is used to start games for further analysis. play allows to play chess online with other players. stockfish allows to play chess against the computer.","title":"mode"},{"location":"start/#settings-optional","text":"Additional optional parameters may be required depending on the mode selected as shown in the examples below. color fen increment min movetext startPos submode","title":"settings (optional)"},{"location":"start/#usage","text":"","title":"Usage"},{"location":"start/#start-a-classical-game","text":"ws.send('/start classical analysis'); { \"/start\": { \"variant\": \"classical\", \"mode\": \"analysis\", \"turn\": \"w\", \"movetext\": \"\", \"fen\": [ \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq -\" ] } }","title":"Start a classical game"},{"location":"start/#start-a-classical-game-from-a-fen-position","text":"Name Description Required settings fen Yes ws.send('/start classical analysis \"{\\\\\"fen\\\\\":\\\\\"r1bqkbnr/pppppppp/2n5/8/3PP3/8/PPP2PPP/RNBQKBNR b KQkq d3\\\\\"}\"'); { \"/start\": { \"variant\": \"classical\", \"mode\": \"analysis\", \"turn\": \"b\", \"movetext\": \"\", \"fen\": [ \"r1bqkbnr/pppppppp/2n5/8/3PP3/8/PPP2PPP/RNBQKBNR b KQkq -\" ] } }","title":"Start a classical game from a FEN position"},{"location":"start/#start-a-classical-game-from-a-san-movetext","text":"Name Description Required settings movetext Yes ws.send('/start classical analysis \"{\\\\\"movetext\\\\\":\\\\\"1.e4 Nc6 2.d4\\\\\"}\"'); { \"/start\": { \"variant\": \"classical\", \"mode\": \"analysis\", \"turn\": \"b\", \"movetext\": \"1.e4 Nc6 2.d4\", \"fen\": [ \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq -\", \"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3\", \"r1bqkbnr/pppppppp/2n5/8/4P3/8/PPPP1PPP/RNBQKBNR w KQkq -\", \"r1bqkbnr/pppppppp/2n5/8/3PP3/8/PPP2PPP/RNBQKBNR b KQkq d3\" ] } }","title":"Start a classical game from a SAN movetext"},{"location":"start/#start-a-chess960-game-from-a-san-movetext","text":"Name Description Required settings movetext startPos Yes ws.send('/start 960 analysis \"{\\\\\"movetext\\\\\":\\\\\"1.e4 Nc6 2.d4\\\\\",\\\\\"startPos\\\\\":\\\\\"BNRKQBRN\\\\\"}\"'); { \"/start\": { \"variant\": \"960\", \"mode\": \"analysis\", \"turn\": \"b\", \"movetext\": \"1.e4 Nc6 2.d4\", \"fen\": [ \"rnbkqbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBKQBNR w KQkq -\", \"rnbkqbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBKQBNR b KQkq e3\", \"r1bkqbnr/pppppppp/2n5/8/4P3/8/PPPP1PPP/RNBKQBNR w KQkq -\", \"r1bkqbnr/pppppppp/2n5/8/3PP3/8/PPP2PPP/RNBKQBNR b KQkq d3\" ], \"startPos\": \"RNBKQBNR\" } }","title":"Start a Chess960 game from a SAN movetext"},{"location":"start/#start-a-classical-game-in-stockfish-mode","text":"Name Description Required settings color Yes ws.send('/start classical stockfish {\"color\":\"b\"}'); { \"/start\": { \"variant\": \"classical\", \"mode\": \"stockfish\", \"color\": \"b\", \"fen\": \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq -\" } }","title":"Start a classical game in Stockfish mode"},{"location":"start/#start-a-classical-game-to-play-online","text":"ws.send('/start classical play {\"min\":5,\"increment\":3,\"color\":\"b\",\"submode\":\"online\"}'); { \"/start\": { \"variant\": \"classical\", \"mode\": \"play\", \"fen\": \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq -\", \"jwt\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJhc3luYy5jaGVzc2xhYmxhYi5vcmciLCJpYXQiOjE3MjE0MDIyNzksImV4cCI6MTcyMTQwNTg3OSwidmFyaWFudCI6ImNsYXNzaWNhbCIsInN1Ym1vZGUiOiJvbmxpbmUiLCJjb2xvciI6ImIiLCJtaW4iOjUsImluY3JlbWVudCI6MywiZmVuIjoicm5icWtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUiB3IEtRa3EgLSJ9.ftJf7UkcL7EwrjsKQh29VgLHKVtKXggl5TZIruRdKoA\", \"hash\": \"70a777dd\" } }","title":"Start a classical game to play online"},{"location":"start/#create-an-invite-code-to-play-a-classical-game","text":"Name Description Required settings min increment color submode Yes ws.send('/start classical play \"{\\\\\"min\\\\\":5,\\\\\"increment\\\\\":3,\\\\\"color\\\\\":\\\\\"w\\\\\",\\\\\"submode\\\\\":\\\\\"friend\\\\\"}\"'); { \"/start\": { \"variant\": \"classical\", \"mode\": \"play\", \"fen\": \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq -\", \"jwt\": \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJhc3luYy5jaGVzc2xhYmxhYi5vcmciLCJpYXQiOjE3MjE0MDI1MDYsImV4cCI6MTcyMTQwNjEwNiwidmFyaWFudCI6ImNsYXNzaWNhbCIsInN1Ym1vZGUiOiJmcmllbmQiLCJjb2xvciI6InciLCJtaW4iOjUsImluY3JlbWVudCI6MywiZmVuIjoicm5icWtibnIvcHBwcHBwcHAvOC84LzgvOC9QUFBQUFBQUC9STkJRS0JOUiB3IEtRa3EgLSJ9.myjbwTAy_z8CxnPwIQiJqzqYpGmj8bg52R89HB53NrQ\", \"hash\": \"3b9777a6\" } }","title":"Create an invite code to play a classical game"},{"location":"stockfish/","text":"/stockfish Returns Stockfish's response to the current position. Skill Level The skill level. depth The number of half moves the engine looks ahead. Usage Example Start a classical game, play e2e4 and use Stockfish to respond with a move. ws.send('/start classical stockfish w'); ws.send('/play_lan w e2e4'); ws.send('/stockfish \"{\\\\\"Skill Level\\\\\":20}\" \"{\\\\\"depth\\\\\":12}\"'); { \"/stockfish\": { \"turn\": \"w\", \"pgn\": \"c5\", \"castlingAbility\": \"KQkq\", \"movetext\": \"1.e4 c5\", \"fen\": \"rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPP1PPP/RNBQKBNR w KQkq c6\", \"isCapture\": false, \"isCheck\": false, \"isMate\": false, \"isStalemate\": false, \"isFivefoldRepetition\": false, \"isFiftyMoveDraw\": false, \"isDeadPositionDraw\": false, \"doesDraw\": false, \"doesWin\": false, \"mode\": \"stockfish\", \"variant\": \"classical\" } }","title":"/stockfish"},{"location":"stockfish/#stockfish","text":"Returns Stockfish's response to the current position.","title":"/stockfish"},{"location":"stockfish/#skill-level","text":"The skill level.","title":"Skill Level"},{"location":"stockfish/#depth","text":"The number of half moves the engine looks ahead.","title":"depth"},{"location":"stockfish/#usage","text":"","title":"Usage"},{"location":"stockfish/#example","text":"Start a classical game, play e2e4 and use Stockfish to respond with a move. ws.send('/start classical stockfish w'); ws.send('/play_lan w e2e4'); ws.send('/stockfish \"{\\\\\"Skill Level\\\\\":20}\" \"{\\\\\"depth\\\\\":12}\"'); { \"/stockfish\": { \"turn\": \"w\", \"pgn\": \"c5\", \"castlingAbility\": \"KQkq\", \"movetext\": \"1.e4 c5\", \"fen\": \"rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPP1PPP/RNBQKBNR w KQkq c6\", \"isCapture\": false, \"isCheck\": false, \"isMate\": false, \"isStalemate\": false, \"isFivefoldRepetition\": false, \"isFiftyMoveDraw\": false, \"isDeadPositionDraw\": false, \"doesDraw\": false, \"doesWin\": false, \"mode\": \"stockfish\", \"variant\": \"classical\" } }","title":"Example"},{"location":"takeback/","text":"/takeback Allows to take back a move. action The action to take as per these options. propose decline accept Usage Propose a take back ws.send('/takeback propose'); { \"/takeback\": { \"action\": \"propose\" } } Decline a take back ws.send('/takeback decline'); { \"/takeback\": { \"action\": \"decline\" } } Accept a take back ws.send('/takeback accept'); { \"/takeback\": { \"action\": \"accept\" } }","title":"/takeback"},{"location":"takeback/#takeback","text":"Allows to take back a move.","title":"/takeback"},{"location":"takeback/#action","text":"The action to take as per these options. propose decline accept","title":"action"},{"location":"takeback/#usage","text":"","title":"Usage"},{"location":"takeback/#propose-a-take-back","text":"ws.send('/takeback propose'); { \"/takeback\": { \"action\": \"propose\" } }","title":"Propose a take back"},{"location":"takeback/#decline-a-take-back","text":"ws.send('/takeback decline'); { \"/takeback\": { \"action\": \"decline\" } }","title":"Decline a take back"},{"location":"takeback/#accept-a-take-back","text":"ws.send('/takeback accept'); { \"/takeback\": { \"action\": \"accept\" } }","title":"Accept a take back"},{"location":"undo/","text":"/undo Undoes the last move. Usage Example Starts a classical game to play 1.e4 e5 2.f4 undoing the last move. ws.send('/start classical analysis'); ws.send('/play_lan w e2e4'); ws.send('/play_lan b e7e5'); ws.send('/play_lan w f2f4'); ws.send('/undo'); { \"/undo\": { \"turn\": \"w\", \"pgn\": \"e5\", \"castlingAbility\": \"KQkq\", \"movetext\": \"1.e4 e5\", \"fen\": \"rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq e6\", \"isCapture\": false, \"isCheck\": false, \"isMate\": false, \"isStalemate\": false, \"isFivefoldRepetition\": false, \"isFiftyMoveDraw\": false, \"isDeadPositionDraw\": false, \"doesDraw\": false, \"doesWin\": false, \"mode\": \"analysis\", \"variant\": \"classical\" } }","title":"/undo"},{"location":"undo/#undo","text":"Undoes the last move.","title":"/undo"},{"location":"undo/#usage","text":"","title":"Usage"},{"location":"undo/#example","text":"Starts a classical game to play 1.e4 e5 2.f4 undoing the last move. ws.send('/start classical analysis'); ws.send('/play_lan w e2e4'); ws.send('/play_lan b e7e5'); ws.send('/play_lan w f2f4'); ws.send('/undo'); { \"/undo\": { \"turn\": \"w\", \"pgn\": \"e5\", \"castlingAbility\": \"KQkq\", \"movetext\": \"1.e4 e5\", \"fen\": \"rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq e6\", \"isCapture\": false, \"isCheck\": false, \"isMate\": false, \"isStalemate\": false, \"isFivefoldRepetition\": false, \"isFiftyMoveDraw\": false, \"isDeadPositionDraw\": false, \"doesDraw\": false, \"doesWin\": false, \"mode\": \"analysis\", \"variant\": \"classical\" } }","title":"Example"}]}